(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{60:function(e,a,n){},61:function(e,a,n){},62:function(e,a,n){},64:function(e,a,n){},69:function(e,a,n){},70:function(e,a,n){},71:function(e,a,n){},72:function(e,a,n){},74:function(e,a,n){},75:function(e,a,n){"use strict";n.r(a);var t=n(0),c=n.n(t),s=n(13),r=n.n(s),i=(n(60),n(61),n(62),n(1)),l=function(){return Object(i.jsxs)("div",{className:"header-wrapper",children:[Object(i.jsx)("div",{className:"header__logo",children:"2048"}),Object(i.jsx)("div",{className:"header__author",children:"by onc157"})]})},o=n(5),u=n(14),d=n(103),j=(n(64),n(17)),b="SET_FIELD_SIZE",m="SET_GAME_DATA",O="SET_INIT_TIME",g="SET_NOW_TIME",p="SET_PAUSE",x="SET_PAUSE_DELAY",h="SET_START_PAUSE_DELAY",f="SET_LANGUAGE",v="SET_GAME_OVER",y="SET_GAME_WIN",S="SET_GAME_START",I="SET_GAME_CONTINUE",E="SET_ABOUT_OPEN",N="SET_SETTINGS_OPEN",w="SET_SCORE_OPEN",T="SET_RESET_GAME",D="SET_MAX_VALUE",_="SET_SCORE",C="SET_GLOBAL_SCORE",k="SET_FETCH_SCORE",V="SET_FETCH_DATA",F="SET_FULLSCREEN",A="SET_SOUND",P="SET_SOUND_VALUE",R="SET_MUSIC",L="SET_MUSIC_VALUE",M={fieldSize:4,gameData:[],initTime:new Date,nowTime:new Date((new Date).getTime()-(new Date).getTime()),isPause:!1,pauseDelay:0,startPauseDelay:null,languageIsEn:!0,gameIsOver:!1,gameIsWin:!1,gameIsStart:!1,gameIsContinue:!1,aboutIsOpen:!1,scoreIsOpen:!1,settingsIsOpen:!1,gameIsReset:!1,maxValue:0,scoreValue:0,globalScoreValue:0,scoreData:[],fullScreenIsActive:!1,isSoundOn:!0,soundValue:.7,isMusicOn:!0,musicValue:.2},G=function(e){return{type:m,newData:e}},B=function(e){return{type:g,nowTime:e}},z=function(e){return{type:p,isPause:e}},W=function(e){return{type:x,pauseDelay:e}},U=function(e){return{type:v,gameIsOver:e}},J=function(e){return{type:y,gameIsWin:e}},K=function(e){return{type:I,gameIsContinue:e}},Y=function(e){return{type:w,scoreIsOpen:e}},H=function(e){return{type:N,settingsIsOpen:e}},q=function(e){return{type:T,gameIsReset:e}},X=function(e){return{type:D,maxValue:e}},Z=function(e){return{type:_,scoreValue:e}},Q=function(e){return{type:k,scoreForLocal:e}},$=function(e){return{type:A,isSoundOn:e}},ee=function(e){return{type:R,isMusicOn:e}},ae=function(e,a){switch(a.type){case b:return Object(o.a)(Object(o.a)({},e),{},{fieldSize:a.fieldSize});case m:return Object(o.a)(Object(o.a)({},e),{},{gameData:a.newData});case O:return Object(o.a)(Object(o.a)({},e),{},{initTime:a.initTime});case g:return Object(o.a)(Object(o.a)({},e),{},{nowTime:a.nowTime});case p:return Object(o.a)(Object(o.a)({},e),{},{isPause:a.isPause});case x:return Object(o.a)(Object(o.a)({},e),{},{pauseDelay:a.pauseDelay});case h:return Object(o.a)(Object(o.a)({},e),{},{startPauseDelay:a.startPauseDelay});case f:return Object(o.a)(Object(o.a)({},e),{},{languageIsEn:a.languageIsEn});case v:return Object(o.a)(Object(o.a)({},e),{},{gameIsOver:a.gameIsOver});case y:return Object(o.a)(Object(o.a)({},e),{},{gameIsWin:a.gameIsWin});case S:return Object(o.a)(Object(o.a)({},e),{},{gameIsStart:a.gameIsStart});case I:return Object(o.a)(Object(o.a)({},e),{},{gameIsContinue:a.gameIsContinue});case E:return Object(o.a)(Object(o.a)({},e),{},{aboutIsOpen:a.aboutIsOpen});case w:return Object(o.a)(Object(o.a)({},e),{},{scoreIsOpen:a.scoreIsOpen});case N:return Object(o.a)(Object(o.a)({},e),{},{settingsIsOpen:a.settingsIsOpen});case T:return Object(o.a)(Object(o.a)({},e),{},{gameIsReset:a.gameIsReset});case D:return Object(o.a)(Object(o.a)({},e),{},{maxValue:a.maxValue});case _:return 0===a.scoreValue?Object(o.a)(Object(o.a)({},e),{},{scoreValue:0}):Object(o.a)(Object(o.a)({},e),{},{scoreValue:e.scoreValue+a.scoreValue});case C:return e.scoreValue>=e.globalScoreValue?Object(o.a)(Object(o.a)({},e),{},{globalScoreValue:e.scoreValue}):e;case k:var n=a.scoreForLocal,t="".concat(e.nowTime.getMinutes()," : ").concat(e.nowTime.getSeconds()),c=Object(j.a)(e.scoreData);return c.push({scoreValue:n,time:t}),c.sort((function(e,a){return a.scoreValue-e.scoreValue})),c.length>10&&c.pop(),localStorage.setItem("scoreData",JSON.stringify(c)),Object(o.a)(Object(o.a)({},e),{},{scoreData:c});case V:return Object(o.a)(Object(o.a)(Object(o.a)({},e),a.fetchData),{},{initTime:new Date(a.fetchData.initTime),nowTime:new Date(a.fetchData.nowTime)});case F:return Object(o.a)(Object(o.a)({},e),{},{fullScreenIsActive:a.fullScreenIsActive});case A:return Object(o.a)(Object(o.a)({},e),{},{isSoundOn:a.isSoundOn});case R:return Object(o.a)(Object(o.a)({},e),{},{isMusicOn:a.isMusicOn});case P:return Object(o.a)(Object(o.a)({},e),{},{soundValue:a.soundValue/100});case L:return Object(o.a)(Object(o.a)({},e),{},{musicValue:a.musicValue/100});default:return e}},ne=n(101),te=n(130),ce=Object(ne.a)((function(e){return Object(te.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundImage:"linear-gradient(-20deg, #2b5876 0%, #4e4376 100%)",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),maxWidth:"600px",borderRadius:"15px",color:"#FFF",outline:"none"},gridElement:{margin:"10px 0"},hotkey:{border:"1px solid grey",borderRadius:"10px",width:"35px",height:"35px",boxShadow:"2px 2px #FFF",display:"flex",justifyContent:"center",alignItems:"center",marginRight:"10px"},button:{borderRadius:"15px",padding:"5px 10px",minWidth:"80px"},closeButton:{color:"#D0A9FF"}})})),se=n(126),re=n(105),ie=n(79),le=n(76),oe=n(106),ue=n(111),de=n(107),je=n(108),be=n(109),me=n(110),Oe=function(e){var a=e.languageIsEn,n=e.aboutIsOpen,t=e.dispatch,c=e.playSound,s=e.modalSound,r=ce(),l=function(){c(s),t(function(e){return{type:E,aboutIsOpen:e}}(!n))};return Object(i.jsxs)("div",{children:[Object(i.jsx)(d.a,{className:r.button,variant:"contained",color:"primary",onClick:l,children:a?"About":"\u041e\u0431 \u0438\u0433\u0440\u0435"}),Object(i.jsx)(se.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:r.modal,open:n,onClose:l,closeAfterTransition:!0,BackdropComponent:re.a,BackdropProps:{timeout:500},children:Object(i.jsx)(ie.a,{in:n,children:Object(i.jsxs)("div",{className:r.paper,children:[Object(i.jsx)(le.a,{paragraph:!0,variant:"h4",component:"div",children:a?"About":"\u041e\u0431 \u0438\u0433\u0440\u0435"}),Object(i.jsx)(le.a,{paragraph:!0,variant:"body1",component:"div",children:a?"Join the numbers and get to the 2048 tile!":"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435 \u0432\u043c\u0435\u0441\u0442\u0435 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u0438 \u0434\u043e\u0439\u0434\u0438\u0442\u0435 \u0434\u043e 2048!"}),Object(i.jsx)(le.a,{paragraph:!0,variant:"body1",component:"div",children:a?"Use your arrow keys to move the tiles. When two tiles with the same number touch, they merge into one.":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0412\u0430\u0448\u0438 \u0441\u0442\u0440\u0435\u043b\u043a\u0438 \u043d\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u043f\u043b\u0438\u0442\u043a\u0438. \u041a\u043e\u0433\u0434\u0430 2 \u043f\u043b\u0438\u0442\u043a\u0438 \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c \u0441\u043e\u043f\u0440\u0438\u043a\u043e\u0441\u0430\u044e\u0442\u0441\u044f, \u043e\u043d\u0438 \u0441\u043b\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u043e\u0434\u043d\u0443."}),Object(i.jsx)(le.a,{paragraph:!0,variant:"body1",component:"div",children:a?"Get to the 2048 tile, and reach a high score!":"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043b\u0438\u0442\u043a\u0443 \u0441 \u0447\u0438\u0441\u043b\u043e\u043c 2048 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0440\u0435\u043a\u043e\u0440\u0434!"}),Object(i.jsx)(le.a,{paragraph:!0,variant:"h5",component:"div",children:a?"Hotkeys":"\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438"}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsxs)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:[Object(i.jsx)(oe.a,{item:!0,className:r.hotkey,children:Object(i.jsx)(de.a,{})}),Object(i.jsx)(oe.a,{item:!0,className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"S"})})]}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"Move down":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437"})})]}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsxs)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:[Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(je.a,{})}),Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"W"})})]}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"Move up":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u0432\u0435\u0440\u0445"})})]}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsxs)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:[Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(be.a,{})}),Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"D"})})]}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"Move right":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043f\u0440\u0430\u0432\u043e"})})]}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsxs)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:[Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(me.a,{})}),Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"A"})})]}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"Move left":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043b\u0435\u0432\u043e"})})]}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsx)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"N"})})}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"New game":"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"})})]}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsx)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"G"})})}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"Score":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})})]}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsx)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"T"})})}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"Settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsx)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"P"})})}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"Pause":"\u041f\u0430\u0443\u0437\u0430"})})]}),Object(i.jsxs)(oe.a,{container:!0,className:r.gridElement,children:[Object(i.jsx)(oe.a,{item:!0,container:!0,xs:3,justify:"center",children:Object(i.jsx)("div",{className:r.hotkey,children:Object(i.jsx)(le.a,{variant:"h6",children:"F"})})}),Object(i.jsx)(oe.a,{item:!0,container:!0,xs:9,alignItems:"center",children:Object(i.jsx)(le.a,{variant:"h6",children:a?"Fullscreen mode":"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"})})]}),Object(i.jsx)(ue.a,{children:Object(i.jsx)(d.a,{className:r.closeButton,onClick:l,color:"primary",children:"Close"})})]})})})]})},ge=Object(ne.a)((function(e){return Object(te.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundImage:"linear-gradient(-20deg, #2b5876 0%, #4e4376 100%)",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"15px",color:"#FFF",outline:"none"},gridElement:{margin:"10px 0"},hotkey:{border:"1px solid grey",borderRadius:"10px",width:"35px",height:"35px",boxShadow:"2px 2px #FFF",display:"flex",justifyContent:"center",alignItems:"center",marginRight:"10px"},button:{borderRadius:"15px",padding:"5px 10px",minWidth:"80px"},closeButton:{color:"#D0A9FF"},table:{minWidth:450}})})),pe=n(112),xe=n(113),he=n(114),fe=n(115),ve=n(116),ye=n(117),Se=n(118),Ie=function(e){var a=e.languageIsEn,n=e.state,t=e.dispatch,c=e.playSound,s=e.modalSound,r=ge(),l=function(){c(s),t(Y(!n.scoreIsOpen))};return Object(i.jsxs)("div",{children:[Object(i.jsx)(d.a,{className:r.button,variant:"contained",color:"primary",onClick:l,children:a?"Score":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}),Object(i.jsx)(se.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:r.modal,open:n.scoreIsOpen,onClose:l,closeAfterTransition:!0,BackdropComponent:re.a,BackdropProps:{timeout:500},children:Object(i.jsx)(ie.a,{in:n.scoreIsOpen,children:Object(i.jsxs)("div",{className:r.paper,children:[Object(i.jsx)(le.a,{paragraph:!0,variant:"h4",component:"div",children:n.languageIsEn?"Score":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}),Object(i.jsx)(pe.a,{component:xe.a,children:Object(i.jsxs)(he.a,{className:r.table,"aria-label":"simple table",children:[Object(i.jsx)(fe.a,{children:Object(i.jsxs)(ve.a,{children:[Object(i.jsx)(ye.a,{align:"center",children:n.languageIsEn?"#":"\u2116"}),Object(i.jsx)(ye.a,{align:"center",children:n.languageIsEn?"Score":"\u041e\u0447\u043a\u0438"}),Object(i.jsx)(ye.a,{align:"center",children:n.languageIsEn?"Time":"\u0412\u0440\u0435\u043c\u044f"})]})}),Object(i.jsx)(Se.a,{children:n.scoreData.map((function(e,a){return Object(i.jsxs)(ve.a,{children:[Object(i.jsx)(ye.a,{align:"center",children:a+1}),Object(i.jsx)(ye.a,{align:"center",children:e.scoreValue}),Object(i.jsx)(ye.a,{align:"center",children:e.time})]},a)}))})]})}),Object(i.jsx)(ue.a,{children:Object(i.jsx)(d.a,{className:r.closeButton,onClick:l,color:"primary",children:"Close"})})]})})})]})},Ee=Object(ne.a)((function(e){return Object(te.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"space-between",justifyContent:"center",backgroundImage:"linear-gradient(-20deg, #2b5876 0%, #4e4376 100%)",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"15px",color:"#FFF",outline:"none"},button:{borderRadius:"15px",padding:"5px 10px",minWidth:"100px"},closeButton:{color:"#D0A9FF"},form:{margin:"10px 0"},formLabel:{color:"#FFF"},fullscreen:{display:"flex",alignItems:"center",justifyContent:"space-between"},fullscreenButton:{border:"none",borderRadius:"15px",background:"rgba(255, 255, 255, 0.4)"},slider:{color:"#FFF"}})})),Ne=n(128),we=n(131),Te=n(129),De=n(119),_e=n(127),Ce=n(132),ke=n(120),Ve=n(121),Fe=n(122),Ae=n(123),Pe=n(124),Re=n(125),Le=function(e){var a=e.resetGame,n=e.state,t=e.dispatch,c=e.toggleFullScreen,s=e.bgSoundOn,r=e.stop,l=e.playSound,o=e.modalSound,u=Ee(),j=function(){l(o),t(H(!n.settingsIsOpen))};return Object(i.jsxs)("div",{children:[Object(i.jsx)(d.a,{className:u.button,variant:"contained",color:"primary",onClick:j,children:n.languageIsEn?"Settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(i.jsx)(se.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:u.modal,open:n.settingsIsOpen,onClose:j,closeAfterTransition:!0,BackdropComponent:re.a,BackdropProps:{timeout:500},children:Object(i.jsx)(ie.a,{in:n.settingsIsOpen,children:Object(i.jsxs)("div",{className:u.paper,children:[Object(i.jsx)(le.a,{paragraph:!0,variant:"h4",component:"div",children:n.languageIsEn?"Settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(i.jsxs)(Ne.a,{className:u.form,component:"fieldset",children:[Object(i.jsx)(we.a,{className:u.formLabel,component:"legend",children:n.languageIsEn?"Field size:":"\u0420\u0430\u0437\u043c\u0435\u0440 \u043f\u043e\u043b\u044f:"}),Object(i.jsxs)(Te.a,{"aria-label":"gender",name:"gender1",value:n.fieldSize,onChange:function(e){var n,c=e.target;t((n=+c.value,{type:b,fieldSize:n})),j(),a()},row:!0,children:[Object(i.jsx)(De.a,{value:4,control:Object(i.jsx)(_e.a,{}),label:"4 x 4"}),Object(i.jsx)(De.a,{value:5,control:Object(i.jsx)(_e.a,{}),label:"5 x 5"}),Object(i.jsx)(De.a,{value:6,control:Object(i.jsx)(_e.a,{}),label:"6 x 6"})]})]}),Object(i.jsxs)(Ne.a,{className:u.form,component:"fieldset",children:[Object(i.jsx)(we.a,{className:u.formLabel,component:"legend",children:n.languageIsEn?"Language:":"\u042f\u0437\u044b\u043a:"}),Object(i.jsxs)(Te.a,{"aria-label":"gender",name:"gender1",value:n.languageIsEn,onChange:function(){var e;t((e=!n.languageIsEn,{type:f,languageIsEn:e}))},row:!0,children:[Object(i.jsx)(De.a,{value:!0,control:Object(i.jsx)(_e.a,{}),label:n.languageIsEn?"English:":"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439:"}),Object(i.jsx)(De.a,{value:!1,control:Object(i.jsx)(_e.a,{}),label:n.languageIsEn?"Russian:":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439:"})]})]}),Object(i.jsxs)("div",{className:u.fullscreen,children:[Object(i.jsx)(le.a,{paragraph:!0,variant:"body1",component:"div",children:n.languageIsEn?"Fullscreen Mode: ":"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c: "}),Object(i.jsx)(d.a,{className:u.button,variant:"contained",color:"primary",onClick:function(){var e;l(o),t((e=!n.fullScreenIsActive,{type:F,fullScreenIsActive:e})),c()},children:n.fullScreenIsActive?Object(i.jsx)(ke.a,{}):Object(i.jsx)(Ve.a,{})})]}),Object(i.jsxs)(Ne.a,{className:u.form,component:"fieldset",children:[Object(i.jsx)(we.a,{className:u.formLabel,component:"legend",children:n.languageIsEn?"Sound:":"\u0417\u0432\u0443\u043a:"}),Object(i.jsxs)(Te.a,{"aria-label":"gender",name:"gender1",value:n.isSoundOn,onChange:function(){t($(!n.isSoundOn))},row:!0,children:[Object(i.jsx)(De.a,{value:!0,control:Object(i.jsx)(_e.a,{}),label:n.languageIsEn?"On:":"\u0412\u043a\u043b:"}),Object(i.jsx)(De.a,{value:!1,control:Object(i.jsx)(_e.a,{}),label:n.languageIsEn?"Off:":"\u0412\u044b\u043a\u043b:"})]})]}),Object(i.jsxs)(oe.a,{container:!0,spacing:2,children:[Object(i.jsx)(oe.a,{item:!0,children:Object(i.jsx)(Fe.a,{})}),Object(i.jsx)(oe.a,{item:!0,xs:!0,children:Object(i.jsx)(Ce.a,{className:u.slider,value:100*n.soundValue,onChange:function(e,a){t({type:P,soundValue:a})},"aria-labelledby":"continuous-slider"})}),Object(i.jsx)(oe.a,{item:!0,children:Object(i.jsx)(Ae.a,{})})]}),Object(i.jsxs)(Ne.a,{className:u.form,component:"fieldset",children:[Object(i.jsx)(we.a,{className:u.formLabel,component:"legend",children:n.languageIsEn?"Music:":"\u041c\u0443\u0437\u044b\u043a\u0430:"}),Object(i.jsxs)(Te.a,{"aria-label":"gender",name:"gender1",value:n.isMusicOn,onChange:function(){t(ee(!n.isMusicOn))},row:!0,children:[Object(i.jsx)(De.a,{value:!0,onClick:function(){n.isMusicOn||s()},control:Object(i.jsx)(_e.a,{}),label:n.languageIsEn?"On:":"\u0412\u043a\u043b:"}),Object(i.jsx)(De.a,{value:!1,onClick:function(){n.isMusicOn&&r()},control:Object(i.jsx)(_e.a,{}),label:n.languageIsEn?"Off:":"\u0412\u044b\u043a\u043b:"})]})]}),Object(i.jsxs)(oe.a,{container:!0,spacing:2,children:[Object(i.jsx)(oe.a,{item:!0,children:Object(i.jsx)(Pe.a,{})}),Object(i.jsx)(oe.a,{item:!0,xs:!0,children:Object(i.jsx)(Ce.a,{className:u.slider,value:100*n.musicValue,onChange:function(e,a){t({type:L,musicValue:a})},"aria-labelledby":"continuous-slider"})}),Object(i.jsx)(oe.a,{item:!0,children:Object(i.jsx)(Re.a,{})})]}),Object(i.jsx)(ue.a,{children:Object(i.jsx)(d.a,{className:u.closeButton,onClick:j,color:"primary",children:"Close"})})]})})})]})},Me=Object(ne.a)((function(e){return Object(te.a)({button:{borderRadius:"15px",padding:"5px 10px",minWidth:"80px"}})})),Ge=function(e){var a=e.onSetPause,n=e.resetGame,t=e.initField,c=e.state,s=e.dispatch,r=e.toggleFullScreen,l=e.bgSoundOn,o=e.stop,u=e.playSound,j=e.modalSound,b=Me();return Object(i.jsxs)("div",{className:"menu-wrapper",children:[Object(i.jsx)(d.a,{className:b.button,variant:"contained",color:"primary",onClick:function(){s(q(!0)),n()},children:c.languageIsEn?"New game":"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"}),Object(i.jsx)(Oe,{languageIsEn:c.languageIsEn,aboutIsOpen:c.aboutIsOpen,dispatch:s,playSound:u,modalSound:j}),Object(i.jsx)(Ie,{languageIsEn:c.languageIsEn,state:c,dispatch:s,playSound:u,modalSound:j}),Object(i.jsx)(Le,{resetGame:n,initField:t,state:c,dispatch:s,toggleFullScreen:r,bgSoundOn:l,stop:o,playSound:u,modalSound:j}),Object(i.jsx)(d.a,{className:b.button,variant:"contained",color:"primary",onClick:a,children:c.languageIsEn?"Pause":"\u041f\u0430\u0443\u0437\u0430"})]})},Be=(n(69),function(e){var a=e.state;return Object(i.jsxs)("div",{className:"stats-wrapper",children:[Object(i.jsxs)("div",{className:"stats__cell",children:[a.languageIsEn?"Score: ":"\u0421\u0447\u0435\u0442: ",a.scoreValue]}),Object(i.jsxs)("div",{className:"stats__cell",children:[a.languageIsEn?"Global: ":"\u041e\u0431\u0449\u0438\u0439: ",a.globalScoreValue]}),Object(i.jsxs)("div",{className:"stats__cell",children:[a.languageIsEn?"Max: ":"\u041c\u0430\u043a\u0441. : ",a.maxValue]}),Object(i.jsxs)("div",{className:"stats__cell",children:[a.languageIsEn?"Time: ":"\u0412\u0440\u0435\u043c\u044f: ","".concat(a.nowTime.getMinutes()," : ").concat(a.nowTime.getSeconds())]})]})}),ze=(n(70),function(e){var a=e.value;return Object(i.jsx)("div",{className:a?"cell-wrapper cell__active cell--".concat(a):"cell-wrapper",children:Object(i.jsx)("span",{className:"cell__number",children:a})})}),We=(n(71),function(e){var a=e.cellsValue,n=e.state,t=a.map((function(e,a){return Object(i.jsx)("div",{className:"field__row",children:e.map((function(e,a){return Object(i.jsx)(ze,{value:e},a)}))},a)}));return Object(i.jsxs)("div",{className:"field-wrapper",children:[t,Object(i.jsx)("div",{className:n.isPause?"pause-wrapper pause-wrapper--active":"pause-wrapper",children:n.languageIsEn?"Pause On:":"\u041f\u0430\u0443\u0437\u0430"})]})}),Ue=(n(72),n(24)),Je=n.n(Ue),Ke=function(e){return JSON.parse(JSON.stringify(e))},Ye=function(e,a,n,t,c){2048!==e||n||(t(c),a(J(!0)),a(Q(e)))},He=function(e,a,n,t,c,s,r){t(Z(e)),t(function(e){return{type:C,globalScoreValue:e}}(e)),e>n&&t(X(e)),Ye(e,t,c,s,r)},qe=function(e,a,n,t,c,s,r,i){for(var l=Ke(e),o=0;o<a;o+=1)for(var u=l[o],d=0,j=1;d<a;)j!==a?0===u[d]&&0===u[j]?j+=1:0===u[d]&&0!==u[j]?(u[d]=u[j],u[j]=0,j+=1):0!==u[d]&&0===u[j]?j+=1:0!==u[d]&&0!==u[j]&&(u[d]===u[j]?(u[d]=u[d]+u[j],He(u[d],n,t,c,s,r,i),u[j]=0,j=d+1,d+=1):j=(d+=1)+1):(j=d+1,d+=1);return l},Xe=function(e,a,n,t,c,s,r,i){for(var l=Ke(e),o=a-1;o>=0;o-=1)for(var u=l[o],d=u.length-1,j=d-1;d>0;)-1!==j?0===u[d]&&0===u[j]?j-=1:0===u[d]&&0!==u[j]?(u[d]=u[j],u[j]=0,j-=1):0!==u[d]&&0===u[j]?j-=1:0!==u[d]&&0!==u[j]&&(u[d]===u[j]?(u[d]=u[d]+u[j],He(u[d],n,t,c,s,r,i),u[j]=0,j=d-1,d-=1):j=(d-=1)-1):(j=d-1,d-=1);return l},Ze=function(e,a,n,t,c,s,r,i){for(var l=Ke(e),o=0;o<a;o+=1)for(var u=0,d=1;u<a;)d!==a?0===l[u][o]&&0===l[d][o]?d+=1:0===l[u][o]&&0!==l[d][o]?(l[u][o]=l[d][o],l[d][o]=0,d+=1):0!==l[u][o]&&0===l[d][o]?d+=1:0!==l[u][o]&&0!==l[d][o]&&(l[u][o]===l[d][o]?(l[u][o]=l[u][o]+l[d][o],He(l[u][o],n,t,c,s,r,i),l[d][o]=0,d=u+1,u+=1):d=(u+=1)+1):(d=u+1,u+=1);return l},Qe=function(e,a,n,t,c,s,r,i){for(var l=Ke(e),o=a-1;o>=0;o-=1)for(var u=l.length-1,d=u-1;u>0;)-1!==d?0===l[u][o]&&0===l[d][o]?d-=1:0===l[u][o]&&0!==l[d][o]?(l[u][o]=l[d][o],l[d][o]=0,d-=1):0!==l[u][o]&&0===l[d][o]?d-=1:0!==l[u][o]&&0!==l[d][o]&&(l[u][o]===l[d][o]?(l[u][o]=l[u][o]+l[d][o],He(l[u][o],n,t,c,s,r,i),l[d][o]=0,d=u-1,u-=1):d=(u-=1)-1):(d=u-1,u-=1);return l},$e="ArrowLeft",ea="ArrowRight",aa="ArrowDown",na="ArrowUp",ta="KeyW",ca="KeyA",sa="KeyS",ra="KeyD",ia="KeyN",la="KeyG",oa="KeyT",ua="KeyP",da="KeyF",ja=function(e,a){return JSON.stringify(e)===JSON.stringify(a)},ba=Object(ne.a)((function(e){return Object(te.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"50px",backgroundImage:"linear-gradient(-20deg, #2b5876 0%, #4e4376 100%)",boxShadow:e.shadows[5],borderRadius:"15px",color:"#FFF",outline:"none"},button:{margin:"10px 10px",width:"200px",height:"60px",fontSize:"20px",borderRadius:"15px"}})})),ma=function(e){var a=e.resetGame,n=e.state,t=e.dispatch,c=ba(),s=function(){t(J(!1)),t(q(!0)),a()};return Object(i.jsx)("div",{children:Object(i.jsx)(se.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:c.modal,open:n.gameIsWin,onClose:s,closeAfterTransition:!0,BackdropComponent:re.a,BackdropProps:{timeout:500},children:Object(i.jsx)(ie.a,{in:n.gameIsWin,children:Object(i.jsxs)("div",{className:c.paper,children:[Object(i.jsx)(le.a,{paragraph:!0,variant:"h3",component:"div",children:n.languageIsEn?"You Win!":"\u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438!"}),Object(i.jsx)(le.a,{paragraph:!0,variant:"h4",component:"div",children:n.languageIsEn?"Your Score: ".concat(n.scoreValue):"\u0412\u0430\u0448 \u0441\u0447\u0435\u0442: ".concat(n.scoreValue)}),Object(i.jsx)(le.a,{paragraph:!0,variant:"h5",component:"div",children:n.languageIsEn?"Your maximum tile value: ".concat(n.maxValue):"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ".concat(n.maxValue)}),Object(i.jsx)(d.a,{className:c.button,variant:"contained",color:"primary",onClick:s,children:n.languageIsEn?"Try again":"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"}),Object(i.jsx)(le.a,{paragraph:!0,variant:"body1",component:"div",children:n.languageIsEn?"Even though you won, you can continue to enjoy the game, good luck!":"\u041d\u0435\u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u0432\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438 \u0434\u0430\u043b\u044c\u0448\u0435 \u043d\u0430\u0441\u043b\u0430\u0436\u0434\u0430\u0442\u044c\u0441\u044f \u0438\u0433\u0440\u043e\u0439. \u0423\u0434\u0430\u0447\u0438!"}),Object(i.jsx)(d.a,{className:c.button,variant:"contained",color:"primary",onClick:function(){t(J(!1)),t(K(!0))},children:n.languageIsEn?"Continue":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})})})})},Oa=Object(ne.a)((function(e){return Object(te.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"50px",backgroundImage:"linear-gradient(-20deg, #2b5876 0%, #4e4376 100%)",boxShadow:e.shadows[5],borderRadius:"15px",color:"#FFF",outline:"none"},button:{marginTop:"20px",width:"200px",height:"60px",fontSize:"20px",borderRadius:"15px"}})})),ga=function(e){var a=e.resetGame,n=e.state,t=e.dispatch,c=Oa(),s=function(){t(U(!1)),t(q(!0)),a()};return Object(i.jsx)("div",{children:Object(i.jsx)(se.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:c.modal,open:n.gameIsOver,onClose:s,closeAfterTransition:!0,BackdropComponent:re.a,BackdropProps:{timeout:500},children:Object(i.jsx)(ie.a,{in:n.gameIsOver,children:Object(i.jsxs)("div",{className:c.paper,children:[Object(i.jsx)(le.a,{paragraph:!0,variant:"h3",component:"div",children:n.languageIsEn?"You Lose!":"\u0412\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438!"}),Object(i.jsx)(le.a,{paragraph:!0,variant:"h4",component:"div",children:n.languageIsEn?"Your Score: ".concat(n.scoreValue):"\u0412\u0430\u0448 \u0441\u0447\u0435\u0442: ".concat(n.scoreValue)}),Object(i.jsx)(le.a,{paragraph:!0,variant:"h5",component:"div",children:n.languageIsEn?"Your maximum tile value: ".concat(n.maxValue):"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ".concat(n.maxValue)}),Object(i.jsx)(d.a,{className:c.button,variant:"contained",color:"primary",onClick:s,children:n.languageIsEn?"Try again":"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"})]})})})})},pa=n.p+"static/media/bg.e262ad59.mp3",xa=n.p+"static/media/bump.4fbe93ea.mp3",ha=n.p+"static/media/win.2c1d0d37.mp3",fa=n.p+"static/media/lose.9ca31506.mp3",va=n.p+"static/media/open.f2a116ee.ogg",ya=n(30),Sa=["swipeDown","swipeLeft","swipeRight","swipeUp"],Ia=function(){var e=Object(t.useReducer)(ae,M),a=Object(u.a)(e,2),n=a[0],c=a[1],s=Object(ya.a)(pa,{volume:n.musicValue}),r=Object(u.a)(s,2),l=r[0],d=r[1].stop,j=Object(ya.a)(xa,{volume:n.soundValue}),b=Object(u.a)(j,1)[0],m=Object(ya.a)(ha,{volume:n.soundValue}),g=Object(u.a)(m,1)[0],p=Object(ya.a)(fa,{volume:n.soundValue}),x=Object(u.a)(p,1)[0],f=Object(ya.a)(va,{volume:n.soundValue}),v=Object(u.a)(f,1)[0],y=function(e){console.log(Je.a.sample(Sa)),n.isPause&&w();for(var a=!1;!a;){var t=Je.a.random(n.fieldSize-1),s=Je.a.random(n.fieldSize-1);if(0===e[t][s]&&(e[t][s]=Je.a.random(1,!0)>.3?2:4,a=!0),n.gameIsStart&&!T(e))return F(x),c(Q(n.scoreValue)),void c(U(!0))}},I=function(){for(var e,a=(e=n.fieldSize,Array(e).fill(null).map((function(){return Array(e).fill(0)}))),t=0;t<2;t+=1)y(a);n.gameIsStart&&(c(q(!1)),E()),k(),c({type:S,gameIsStart:!0}),c(G(a))},E=function(){var e;d(),localStorage.removeItem("state"),c(W(0)),c((e=new Date,{type:O,initTime:e})),c(B(new Date((new Date).getTime()-(new Date).getTime()))),c(X(0)),c(Z(0)),c(X(0)),c(K(!1)),c($(!0)),c(ee(!0))};Object(t.useEffect)((function(){if(localStorage.state){var e=JSON.parse(localStorage.state);c(function(e){return{type:V,fetchData:e}}(e))}else I()}),[n.fieldSize,n.gameIsReset]),Object(t.useEffect)((function(){return window.addEventListener("beforeunload",_),function(){return window.removeEventListener("beforeunload",_)}})),Object(t.useEffect)((function(){return window.addEventListener("load",k),function(){return window.removeEventListener("load",k)}})),Object(t.useEffect)((function(){var e=setInterval((function(){return D()}),1e3);return function(){return clearInterval(e)}}),[n.isPause,n.pauseDelay,n.startPauseDelay,E]),Object(t.useEffect)((function(){return window.addEventListener("keydown",N),function(){return window.removeEventListener("keydown",N)}}));var N=function(e){switch(e.code){case $e:case ca:!function(){F(b);var e=qe(n.gameData,n.fieldSize,n.globalScoreValue,n.maxValue,c,n.gameIsContinue,F,g);ja(n.gameData,e)||y(e),c(G(e))}();break;case ea:case ra:!function(){F(b);var e=Xe(n.gameData,n.fieldSize,n.globalScoreValue,n.maxValue,c,n.gameIsContinue,F,g);ja(n.gameData,e)||y(e),c(G(e))}();break;case na:case ta:!function(){F(b);var e=Ze(n.gameData,n.fieldSize,n.globalScoreValue,n.maxValue,c,n.gameIsContinue,F,g);ja(n.gameData,e)||y(e),c(G(e))}();break;case aa:case sa:!function(){F(b);var e=Qe(n.gameData,n.fieldSize,n.globalScoreValue,n.maxValue,c,n.gameIsContinue,F,g);ja(n.gameData,e)||y(e),c(G(e))}();break;case ia:E(),c(q(!0));break;case la:c(Y(!n.scoreIsOpen));break;case oa:c(H(!n.settingsIsOpen));break;case ua:w();break;case da:C()}},w=function(){if(n.isPause){var e=(new Date).getTime()-n.startPauseDelay.getTime();c(W(n.pauseDelay+e)),c(z(!n.isPause))}else c((a=new Date,{type:h,startPauseDelay:a})),c(z(!n.isPause));var a},T=function(e){if(e.flat().every((function(e){return 0!==e}))){for(var a=0;a<n.fieldSize;a+=1)for(var t=0;t<n.fieldSize-1;t+=1){if(e[a][t]===e[a][t+1])return!0;if(e[t][a]===e[t+1][a])return!0}return!1}return!0},D=function(){if(!n.isPause){var e=(new Date).getTime()-n.initTime.getTime()-n.pauseDelay;c(B(new Date(e)))}},_=function(){var e=Object(o.a)({},n);localStorage.setItem("state",JSON.stringify(e))},C=function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},k=function(){n.isMusicOn&&(d(),setTimeout((function(){l()}),100))},F=function(e){n.isSoundOn&&e()};return Object(i.jsxs)("div",{className:"game-wrapper",children:[Object(i.jsx)(Ge,{onSetPause:w,resetGame:E,initField:I,state:n,dispatch:c,toggleFullScreen:C,bgSoundOn:l,stop:d,playSound:F,modalSound:v}),Object(i.jsx)(We,{cellsValue:n.gameData,state:n}),Object(i.jsx)(Be,{state:n}),Object(i.jsx)(ga,{resetGame:E,state:n,dispatch:c}),Object(i.jsx)(ma,{resetGame:E,state:n,dispatch:c})]})},Ea=(n(74),function(){return Object(i.jsxs)("div",{className:"footer-wrapper",children:[Object(i.jsx)("div",{className:"footer-school",children:Object(i.jsx)("a",{href:"https://rs.school/",target:"_blank",rel:"noreferrer",children:"RSS"})}),Object(i.jsx)("div",{className:"footer-author",children:Object(i.jsx)("a",{href:"https://github.com/onc157",target:"_blank",rel:"noreferrer",children:"onc157"})}),Object(i.jsx)("div",{className:"footer-year",children:"2021"})]})});var Na=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsx)(Ia,{}),Object(i.jsx)(Ea,{})]})},wa=function(e){e&&n.e(4).then(n.bind(null,133)).then((function(a){var n=a.getCLS,t=a.getFID,c=a.getFCP,s=a.getLCP,r=a.getTTFB;n(e),t(e),c(e),s(e),r(e)}))};r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(Na,{})}),document.getElementById("root")),wa()}},[[75,1,2]]]);
//# sourceMappingURL=main.3b6b126b.chunk.js.map